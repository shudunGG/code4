"use strict";(self["webpackChunkxsecmcx"]=self["webpackChunkxsecmcx"]||[]).push([[745],{7745:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("section",{staticClass:"result-container"},[e("h2",{staticClass:"title"},[t._v("查询结果")]),e("div",{staticClass:"result"},[t._l(t.tjrylb,(function(a,s){return e("table",{key:s},[e("tr",[e("td",{staticClass:"tab_bt"},[t._v("医院代码")]),e("td",[t._v(t._s(a.hospitalcode||"暂无数据"))]),e("td",{staticClass:"tab_bt"},[t._v("电话号码")]),e("td",[t._v(t._s(t.phone(a.mobile)||"暂无数据"))])]),e("tr",[e("td",{staticClass:"tab_bt"},[t._v("姓名")]),e("td",[t._v(t._s(t.name(a.patientname)||"暂无数据"))]),e("td",{staticClass:"tab_bt"},[t._v("性别")]),e("td",[t._v(t._s("1"===a.sex?"男":"女"))])]),e("tr",[e("td",{staticClass:"tab_bt"},[t._v("体检日期")]),e("td",[t._v(t._s(a.examdate||"暂无数据"))]),e("td",{staticClass:"tab_bt"},[t._v("报告预览")]),e("td",{staticStyle:{cursor:"pointer",color:"#3f87f3"},on:{click:function(e){return t.pdfView(a.httppdf)}}},[t._v("点击预览")])])])}))],2)])},n=[],c=a(4895),r=a(2425),i={name:"ResultsView",data(){return{tjrylb:{}}},async mounted(){this.tjrylb=this.$store.state.drResultData.tjrylb,this.tjrylb,await this.fileBase()},methods:{name:c.u2,phone:c.m7,async fileBase(){const t={downloadMaterialUrl:this.tjrylb.httppdf};try{const e=await r.Z.queryList("zyyy","download",t,{});if("200"!==e.code||!e.success||""===e.data.data)return void this.$message({message:"暂无报告数据，请稍后再试",duration:2e3});{const t=this.base64toBlod(e.data.data);this.pdfSrc=URL.createObjectURL(t),this.pdfSrc}}catch(e){return void this.$message({message:"网络异常，请稍后再试",duration:2e3})}},async pdfView(t){const e=document.createElement("a");e.href=t,e.target="_blank",e.click()},downLoadPdf(t){const e=document.createElement("a");e.download="体检报告",e.href=t,e.click()},base64toBlod(t){t=t.replace(/[\n\r]/g,"");const e=window.atob(t),a=e.length,s=new Uint8Array(a);for(let n=0;n<a;++n)s[n]=e.charCodeAt(n);return new Blob([s],{type:"application/pdf"})}}},l=i,d=a(1001),o=(0,d.Z)(l,s,n,!1,null,"1511e0de",null),u=o.exports}}]);