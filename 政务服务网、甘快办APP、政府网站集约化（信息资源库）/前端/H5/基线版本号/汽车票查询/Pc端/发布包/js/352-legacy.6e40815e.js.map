{"version":3,"file":"js/352-legacy.6e40815e.js","mappings":"2JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,UAAU,CAACE,YAAY,oBAAoB,CAACF,EAAG,KAAK,CAACE,YAAY,MAAM,CAACJ,EAAIK,GAAG,UAAUH,EAAG,MAAM,CAACI,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOT,EAAIU,QAASC,WAAW,YAAYP,YAAY,UAAU,CAACJ,EAAIY,GAAIZ,EAAIa,MAAM,SAASC,EAAKC,GAAO,OAAOb,EAAG,QAAQ,CAACc,IAAID,GAAO,CAACb,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAIK,GAAG,UAAUH,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIiB,GAAGH,EAAKI,cAAgB,WAAWhB,EAAG,KAAK,CAACF,EAAIK,GAAG,SAASH,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIiB,GAAGH,EAAKK,UAAY,KAAO,QAAajB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAIK,GAAG,UAAUH,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIiB,GAAGjB,EAAIoB,OAAOC,OAAOC,YAAc,WAAWpB,EAAG,KAAK,CAACF,EAAIK,GAAG,UAAUH,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIiB,GAAGH,EAAKS,WAAa,aAAarB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAIK,GAAG,UAAUH,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIiB,GAAGH,EAAKU,gBAAkB,WAAWtB,EAAG,KAAK,CAACF,EAAIK,GAAG,UAAUH,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIiB,GAAqB,KAAlBH,EAAKW,UAAmB,KAAO,aAAuB,KAAI,GAAGvB,EAAG,MAAM,CAACE,YAAY,QAAQsB,YAAY,CAAC,aAAa,WAAW,CAACxB,EAAG,gBAAgB,CAACyB,MAAM,CAAC,YAAY,MAAM,YAAY,MAAM,WAAa,GAAG,uBAAsB,EAAK,OAAS,4BAA4B,YAAY3B,EAAIqB,OAAOO,SAAS,MAAQC,KAAKC,MAAMD,KAAKC,MAAM9B,EAAIoB,OAAOC,OAAOU,OAAOC,UAAU,eAAehC,EAAIiC,cAAcC,GAAG,CAAC,iBAAiBlC,EAAImC,cAAc,cAAcnC,EAAIoC,iBAAiB,qBAAqB,SAASC,GAAQrC,EAAIiC,aAAaI,CAAM,EAAE,sBAAsB,SAASA,GAAQrC,EAAIiC,aAAaI,CAAM,MAAM,IACj7C,EACIC,EAAkB,G,g+NC+CtB,OACA/B,KAAAA,cACAgC,QAAAA,WACAC,QAAAA,IAAAA,4BAAAA,KAAAA,MAAAA,KAAAA,MAAAA,KAAAA,OAAAA,OAAAA,QACA,8DACA,EACAT,KAAAA,WACA,OACAlB,KAAAA,GACAQ,OAAAA,CACAO,SAAAA,EACAa,QAAAA,GAEAR,aAAAA,EACAvB,SAAAA,EAEA,EACAgC,QAAAA,CAEAP,cAAAA,SAAAA,GACA,sBAEA,8BACA,EACAC,iBAAAA,WACA,sCAEA,8BACA,EACAO,aAAAA,WAAA,qHAUA,OATA,aACAtB,EAAAA,CACAuB,IAAAA,aACAC,aAAAA,EAAAA,OAAAA,OAAAA,WACAC,iBAAAA,EAAAA,OAAAA,OAAAA,YACAC,WAAAA,EAAAA,OAAAA,OAAAA,WACAC,QAAAA,IACAC,MAAAA,EAAAA,OAAAA,QACAC,MAAAA,EAAAA,OAAAA,UACA,kBAEAC,EAAAA,EAAAA,SAAAA,iBAAAA,oBAAAA,GAAA,OAAAC,EAAAA,EAAAA,KACAZ,QAAAA,IAAAA,gBAAAA,KAAAA,MAAAA,EAAAA,OACA,2BACA,aACA,+BACA,mBAEA,aACA,YACAa,KAAAA,QACAC,QAAAA,iBAEA,qDAEA,aACA,YACAD,KAAAA,QACAC,QAAAA,mBAEA,gBAAA/C,KAAAA,UAAA,yDA/BA,EAiCA,IC/G2P,I,UCQvPgD,GAAY,OACd,EACAxD,EACAuC,GACA,EACA,KACA,WACA,MAIF,EAAeiB,EAAiB,O","sources":["webpack://xsecmcx/./src/views/ResultsView.vue","webpack://xsecmcx/src/views/ResultsView.vue","webpack://xsecmcx/./src/views/ResultsView.vue?102b","webpack://xsecmcx/./src/views/ResultsView.vue?4f34"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"result-container\"},[_c('h2',{staticClass:\"cx\"},[_vm._v(\"查询结果\")]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"result\"},[_vm._l((_vm.list),function(item,index){return _c('table',{key:index},[_c('tr',[_c('td',[_vm._v(\"出发站点\")]),_c('td',[_vm._v(_vm._s(item.busshortname || '暂无数据'))]),_c('td',[_vm._v(\"全票价\")]),_c('td',[_vm._v(_vm._s(item.fullprice + '元' || '暂无数据'))])]),_c('tr',[_c('td',[_vm._v(\"发车日期\")]),_c('td',[_vm._v(_vm._s(_vm.$route.params.departDate || '暂无数据'))]),_c('td',[_vm._v(\"发车时间\")]),_c('td',[_vm._v(_vm._s(item.starttime || '暂无数据'))])]),_c('tr',[_c('td',[_vm._v(\"到达站点\")]),_c('td',[_vm._v(_vm._s(item.endstationname || '暂无数据'))]),_c('td',[_vm._v(\"是否可售\")]),_c('td',[_vm._v(_vm._s(item.iscansell == '1' ? '可售' : '不可售' || '暂无数据'))])])])})],2),_c('div',{staticClass:\"block\",staticStyle:{\"text-align\":\"center\"}},[_c('el-pagination',{attrs:{\"prev-text\":\"上一页\",\"next-text\":\"下一页\",\"background\":\"\",\"hide-on-single-page\":true,\"layout\":\"prev, pager, next, jumper\",\"page-size\":_vm.params.pageSize,\"total\":JSON.parse(JSON.parse(_vm.$route.params.data)).totalrows,\"current-page\":_vm.currentPage3},on:{\"current-change\":_vm.currentChange,\"size-change\":_vm.handleSizeChange,\"update:currentPage\":function($event){_vm.currentPage3=$event},\"update:current-page\":function($event){_vm.currentPage3=$event}}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"result-container\">\r\n    <h2 class=\"cx\">查询结果</h2>\r\n    <div class=\"result\" v-loading=\"loading\">\r\n      <template>\r\n        <table v-for=\"(item, index) in list\" :key=\"index\">\r\n          <tr>\r\n            <td>出发站点</td>\r\n            <td>{{ item.busshortname || '暂无数据' }}</td>\r\n            <td>全票价</td>\r\n            <td>{{ item.fullprice + '元' || '暂无数据' }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>发车日期</td>\r\n            <td>{{  $route.params.departDate || '暂无数据' }}</td>\r\n            <td>发车时间</td>\r\n            <td>{{ item.starttime || '暂无数据' }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>到达站点</td>\r\n            <td>{{ item.endstationname || '暂无数据' }}</td>\r\n            <td>是否可售</td>\r\n            <td>{{ item.iscansell == '1' ? '可售' : '不可售' || '暂无数据' }}</td>\r\n          </tr>\r\n        </table>\r\n      </template>\r\n    </div>\r\n\r\n    <div class=\"block\" style=\"text-align: center\">\r\n      <el-pagination\r\n          prev-text=\"上一页\"\r\n          next-text=\"下一页\"\r\n          background\r\n          :hide-on-single-page=\"true\"\r\n          layout=\"prev, pager, next, jumper\"\r\n          :page-size=\"params.pageSize\"\r\n          @current-change=\"currentChange\"\r\n          :total=\"JSON.parse(JSON.parse($route.params.data)).totalrows\"\r\n          @size-change=\"handleSizeChange\"\r\n          :current-page.sync=\"currentPage3\">\r\n      </el-pagination>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\n\r\nimport serverApi from \"@/api\";\r\n\r\nexport default {\r\n  name: 'ResultsView',\r\n  mounted() {\r\n    console.log('----ads--阿大撒-asd---sad---', JSON.parse(JSON.parse(this.$route.params.data)))\r\n    this.list = JSON.parse(JSON.parse(this.$route.params.data)).data\r\n  },\r\n  data() {\r\n    return {\r\n      list: [],\r\n      params: {\r\n        pageSize: 5,\r\n        pageNum: 1,\r\n      },\r\n      currentPage3: 1,\r\n     loading: false,\r\n    }\r\n  },\r\n  methods: {\r\n    // 页码改变触发\r\n    currentChange(pageNum) {\r\n      this.params.pageNum = pageNum;\r\n      // 根据新的页码重新请求\r\n      this.selectResult(this.params);\r\n    },\r\n    handleSizeChange() {\r\n      this.params.pageNum = this.currentPage3;\r\n      // 根据新的页码重新请求\r\n      this.selectResult(this.params);\r\n    },\r\n    async selectResult() {\r\n      this.loading = true\r\n      let params = {\r\n        uid: '6202000027',\r\n        departcityid: this.$route.params.fromCityId, // 出发城市id\r\n        reachstationname: this.$route.params.toCityValue, // 目的站名称、\r\n        departdate: this.$route.params.departDate, // 出发日期\r\n        disable: '1',//是否查询不可售（0：只查询可售班次 1：查询所有班次 默认为0）\r\n        start: this.params.pageNum,\r\n        count: this.params.pageSize,\r\n      }\r\n      try {\r\n        const res = await serverApi.fromCity('findSailingsgs', 'gssztravelinquiry', params)\r\n        console.log('--asd---asd--', JSON.parse(res.data))\r\n        if (res.code === \"200\" && res.success) {\r\n          this.loading = false\r\n            this.list = JSON.parse(res.data).data;\r\n            this.$forceUpdate();\r\n        } else {\r\n          this.loading = false\r\n          this.$message({\r\n            type: \"error\",\r\n            message: \"暂无数据，请稍后再试！\",\r\n          });\r\n        }\r\n      } catch (e) {\r\n        this.loading = false\r\n        this.$message({\r\n          type: \"error\",\r\n          message: \"查询失败，请重试或联系管理员\",\r\n        });\r\n        this.$router.push({ name: \"Index\" });\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.result-container table {\r\n  margin-bottom: 0.3rem;\r\n}\r\n\r\n/* .result-container table tr:nth-child(1) { */\r\n/* background: #f5f6f8; */\r\n/* font-family: PingFangSC-Regular;\r\n  font-size: 16px;\r\n  color: #333333;\r\n  font-weight: 400; */\r\n/* width: 30%; */\r\n/* } */\r\n.result-container table thead td {\r\n  font-size: 0.16rem;\r\n  font-weight: bold;\r\n}\r\n\r\n.result-container table td,\r\n.result-container table th {\r\n  border: 1px solid #e6e6e6;\r\n  font-size: 0.14rem;\r\n  padding: 0 0.14rem;\r\n  width: 30%;\r\n}\r\n\r\n.result-container table td:nth-child(1) {\r\n  background: #f5f6f8;\r\n  width: 20%;\r\n}\r\n\r\n.result-container table td:nth-child(3) {\r\n  background: #f5f6f8;\r\n  width: 20%;\r\n}\r\n\r\n.pagination {\r\n  text-align: center;\r\n}\r\n\r\n.tips {\r\n  margin-top: 0.3rem;\r\n  color: #999999;\r\n  text-align: center;\r\n}\r\n\r\n::v-deep.el-pagination.is-background .btn-next {\r\n  padding: 0 10px;\r\n}\r\n\r\n::v-deep.el-pagination.is-background .btn-prev {\r\n  padding: 0 10px;\r\n}\r\n\r\n::v-deep .el-pagination .btn-prev {\r\n  background: #ffffff;\r\n  border: 1px solid rgba(221, 221, 221, 1);\r\n  border-radius: 6px;\r\n  padding-right: 0;\r\n  padding-left: 0;\r\n  margin-right: 8px;\r\n}\r\n\r\n::v-deep .el-pager li {\r\n  background: #ffffff;\r\n  border: 1px solid rgba(221, 221, 221, 1);\r\n  border-radius: 6px;\r\n  margin-right: 8px;\r\n}\r\n\r\n::v-deep .el-pagination .btn-next {\r\n  background: #ffffff;\r\n  border: 1px solid rgba(221, 221, 221, 1);\r\n  border-radius: 6px;\r\n  padding-right: 0;\r\n  padding-left: 0;\r\n}</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ResultsView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ResultsView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResultsView.vue?vue&type=template&id=b0295c02&scoped=true&\"\nimport script from \"./ResultsView.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultsView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResultsView.vue?vue&type=style&index=0&id=b0295c02&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b0295c02\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","directives","name","rawName","value","loading","expression","_l","list","item","index","key","_s","busshortname","fullprice","$route","params","departDate","starttime","endstationname","iscansell","staticStyle","attrs","pageSize","JSON","parse","data","totalrows","currentPage3","on","currentChange","handleSizeChange","$event","staticRenderFns","mounted","console","pageNum","methods","selectResult","uid","departcityid","reachstationname","departdate","disable","start","count","serverApi","res","type","message","component"],"sourceRoot":""}