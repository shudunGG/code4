"use strict";(self["webpackChunkxsecmcx"]=self["webpackChunkxsecmcx"]||[]).push([[352],{352:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("section",{staticClass:"result-container"},[e("h2",{staticClass:"cx"},[t._v("查询结果")]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"result"},[t._l(t.list,(function(a,s){return e("table",{key:s},[e("tr",[e("td",[t._v("出发站点")]),e("td",[t._v(t._s(a.busshortname||"暂无数据"))]),e("td",[t._v("全票价")]),e("td",[t._v(t._s(a.fullprice+"元"||0))])]),e("tr",[e("td",[t._v("发车日期")]),e("td",[t._v(t._s(t.$route.params.departDate||"暂无数据"))]),e("td",[t._v("发车时间")]),e("td",[t._v(t._s(a.starttime||"暂无数据"))])]),e("tr",[e("td",[t._v("到达站点")]),e("td",[t._v(t._s(a.endstationname||"暂无数据"))]),e("td",[t._v("是否可售")]),e("td",[t._v(t._s("1"==a.iscansell?"可售":"不可售"))])])])}))],2),e("div",{staticClass:"block",staticStyle:{"text-align":"center"}},[e("el-pagination",{attrs:{"prev-text":"上一页","next-text":"下一页",background:"","hide-on-single-page":!0,layout:"prev, pager, next, jumper","page-size":t.params.pageSize,total:JSON.parse(JSON.parse(t.$route.params.data)).totalrows,"current-page":t.currentPage3},on:{"current-change":t.currentChange,"size-change":t.handleSizeChange,"update:currentPage":function(e){t.currentPage3=e},"update:current-page":function(e){t.currentPage3=e}}})],1)])},r=[],i=a(2425),n={name:"ResultsView",mounted(){console.log("----ads--阿大撒-asd---sad---",JSON.parse(JSON.parse(this.$route.params.data))),this.list=JSON.parse(JSON.parse(this.$route.params.data)).data},data(){return{list:[],params:{pageSize:5,pageNum:1},currentPage3:1,loading:!1}},methods:{currentChange(t){this.params.pageNum=t,this.selectResult(this.params)},handleSizeChange(){this.params.pageNum=this.currentPage3,this.selectResult(this.params)},async selectResult(){this.loading=!0;let t={uid:"6202000027",departcityid:this.$route.params.fromCityId,reachstationname:this.$route.params.toCityValue,departdate:this.$route.params.departDate,disable:"1",start:this.params.pageNum,count:this.params.pageSize};try{const e=await i.Z.fromCity("findSailingsgs","gssztravelinquiry",t);console.log("--asd---asd--",JSON.parse(e.data)),"200"===e.code&&e.success?(this.loading=!1,this.list=JSON.parse(e.data).data,this.$forceUpdate()):(this.loading=!1,this.$message({type:"error",message:"暂无数据，请稍后再试！"}))}catch(e){this.loading=!1,this.$message({type:"error",message:"查询失败，请重试或联系管理员"}),this.$router.push({name:"Index"})}}}},d=n,u=a(1001),l=(0,u.Z)(d,s,r,!1,null,"b0295c02",null),c=l.exports}}]);
//# sourceMappingURL=352.c6d8dc70.js.map