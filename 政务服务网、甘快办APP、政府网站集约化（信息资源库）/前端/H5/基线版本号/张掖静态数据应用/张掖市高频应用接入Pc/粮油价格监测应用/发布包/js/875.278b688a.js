"use strict";(self["webpackChunkxsecmcx"]=self["webpackChunkxsecmcx"]||[]).push([[875],{8875:function(t,a,s){s.r(a),s.d(a,{default:function(){return C}});var e=function(){var t=this,a=t._self._c;return a("section",{staticClass:"result-container"},[a("h2",{staticClass:"title"},[t._v("查询结果")]),a("div",{staticClass:"result"},[[t._l(t.resultsObj.dataList,(function(s,e){return a("table",{key:e},[a("tr",[a("td",{staticClass:"tab_bt"},[t._v("品种")]),a("td",[t._v(t._s(s.pinzhong||"暂无数据"))]),a("td",{staticClass:"tab_bt"},[t._v("期数")]),a("td",[t._v(t._s(s.qishu||"暂无数据"))])]),a("tr",[a("td",{staticClass:"tab_bt"},[t._v("日期")]),a("td",[t._v(t._s(s.date||"暂无数据"))]),a("td",{staticClass:"tab_bt"},[t._v("单位")]),a("td",[t._v(t._s(s.danwei||"暂无数据"))])]),a("tr",[a("td",{staticClass:"tab_bt"},[t._v("全市采购均价")]),a("td",[t._v(t._s(s.quanshicaigou||"暂无数据"))]),a("td",{staticClass:"tab_bt"},[t._v("全市销售均价")]),a("td",[t._v(t._s(s.quanshixiaoshou||"暂无数据"))])]),a("tr",[a("td",{staticClass:"tab_bt"},[t._v("甘州区采购均价")]),a("td",[t._v(t._s(s.ganzhoucaigou||"暂无数据"))]),a("td",{staticClass:"tab_bt"},[t._v("甘州区销售均价")]),a("td",[t._v(t._s(s.ganzhouxiaoshou||"暂无数据"))])]),a("tr",[a("td",{staticClass:"tab_bt"},[t._v("临泽县采购均价")]),a("td",[t._v(t._s(s.linzecaigou||"暂无数据"))]),a("td",{staticClass:"tab_bt"},[t._v("临泽县销售均价")]),a("td",[t._v(t._s(s.linzexiaoshou||"暂无数据"))])]),a("tr",[a("td",{staticClass:"tab_bt"},[t._v("高台县采购均价")]),a("td",[t._v(t._s(s.gaotaicaigou||"暂无数据"))]),a("td",{staticClass:"tab_bt"},[t._v("高台县销售均价")]),a("td",[t._v(t._s(s.gaotaixiaoshou||"暂无数据"))])]),a("tr",[a("td",{staticClass:"tab_bt"},[t._v("山丹县采购均价")]),a("td",[t._v(t._s(s.shandancaigou||"暂无数据"))]),a("td",{staticClass:"tab_bt"},[t._v("山丹县销售均价")]),a("td",[t._v(t._s(s.shandanxiaoshou||"暂无数据"))])]),a("tr",[a("td",{staticClass:"tab_bt"},[t._v("民乐县采购均价")]),a("td",[t._v(t._s(s.minlecaigou||"暂无数据"))]),a("td",{staticClass:"tab_bt"},[t._v("民乐县销售均价")]),a("td",[t._v(t._s(s.minlexiaoshou||"暂无数据"))])]),a("tr",[a("td",{staticClass:"tab_bt"},[t._v("肃南县采购均价")]),a("td",[t._v(t._s(s.sunancaigou||"暂无数据"))]),a("td",{staticClass:"tab_bt"},[t._v("肃南县销售均价")]),a("td",[t._v(t._s(s.sunanxiaoshou||"暂无数据"))])]),a("tr",[a("td",{staticClass:"tab_bt"},[t._v("粮油储备库有限责任公式采购均价")]),a("td",[t._v(t._s(s.liangyoucaigou||"暂无数据"))]),a("td",{staticClass:"tab_bt"},[t._v("粮油储备库有限责任公式销售均价")]),a("td",[t._v(t._s(s.liangyouxiaoshou||"暂无数据"))])]),a("tr",[a("td",{staticClass:"tab_bt"},[t._v("军粮供应有限责任公司采购均价")]),a("td",[t._v(t._s(s.junliangcaigou||"暂无数据"))]),a("td",{staticClass:"tab_bt"},[t._v("军粮供应有限责任公司销售均价")]),a("td",[t._v(t._s(s.junliangxiaoshou||"暂无数据"))])])])})),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"prev-text":"上一页","next-text":"下一页",background:"","hide-on-single-page":!0,layout:"prev, pager, next, jumper","page-size":t.params.pageSize,total:t.resultsObj.totalCount,"current-page":t.currentPage3},on:{"current-change":t.currentChange,"size-change":t.handleSizeChange,"update:currentPage":function(a){t.currentPage3=a},"update:current-page":function(a){t.currentPage3=a}}})],1)]],2)])},n=[],i=s(6265),r=s.n(i);const c={APP_ID:"cmsnzjk",httpRequestJpaas:"https://zwfw.gansu.gov.cn/jpaas-jags-server/interface/"},{httpRequestJpaas:o}=c,u="cmslistInfonzjk",d={createSignJpaas:function(t={}){return new Promise(((a,s)=>{r()({method:"post",url:`${o}createsign`,data:t}).then((function(t){if(t.data.success){const{sign:s}=t.data.data;a(s)}else s(t)})).catch((function(t){s(t)}))}))},getDataFromJpaas:function(t={}){return new Promise(((a,s)=>{r()({method:"post",url:`${o}gateway`,data:t}).then((function(t){if(200==t.data.code&&1==t.data.success){const e=JSON.parse(t.data.data);if(200==e.code)a(e);else{const a=JSON.parse(JSON.parse(t.data.data).data);s(a)}}else s(t)})).catch((function(t){s(t)}))}))},getData:function({columnId:t="",params:a={}}={}){const s=new URLSearchParams;return s.append("header","{}"),s.append("version","1.0"),s.append("charset","UTF-8"),s.append("origin","1"),s.append("timestamp",(new Date).getTime()),s.append("interface_id",u),s.append("app_id","cmsnzjk"),s.append("biz_content",JSON.stringify(Object.assign({columnId:t},a))),new Promise(((t,a)=>{d.createSignJpaas(s).then((t=>(s.append("sign",t),d.getDataFromJpaas(s)))).then((a=>{try{var s=JSON.parse(a);t("object"===typeof s&&s?JSON.parse(a):a)}catch(e){t(a)}})).catch((t=>{a(t)}))}))}};var l=d;const{getData:_}=l;var h={queryList(t){return _({columnId:"c2663bfb6db243748f0aaa62f392cd3b",params:t})}};function p(t){if(!t)return"";let a=t.substr(0,1);for(let s=0;s<t.length-1;s++)a+="*";return a}function g(t,a,s){if(!t&&a+s>=t.length)return"";const e=t.substring(0,a),n=t.substring(t.length-s,t.length);let i="";for(let r=0;r<t.length-s-a;r++)i+="*";return e+i+n}var b={name:"ResultsView",data(){return{formData:{},params:{pageSize:5,pageNum:1},resultsObj:{},currentPage3:1}},created(){this.formData=this.$route.params.res,void 0===this.formData&&(this.formData={name:"",code:"",selectName:"",selectArr:[]}),this.selectResult(this.params)},beforeMount(){this.selectResult(this.params)},methods:{desensitizedName:p,desensitizedCommon:g,currentChange(t){this.params.pageNum=t,this.selectResult(this.params)},handleSizeChange(){this.params.pageNum=this.currentPage3,this.selectResult(this.params)},async selectResult(t){this.formData.name?this.params.pinzhong=encodeURIComponent(JSON.stringify({type:2,content:this.formData.name,left:"",right:""})):this.params={pageSize:5,pageNum:1};const a=this.$loading({text:"Loading...",spinner:"el-icon-loading",background:"rgba(255,255,255,0.9)",target:document.getElementById("resultDiag")});try{const a=await h.queryList(t);if("200"!==a.code||!a.success)throw new Error("查询失败");0===a.data.dataResult.dataList.length?this.$router.push("/index/no-results"):(this.resultsObj=a.data.dataResult,this.$forceUpdate())}catch(s){this.$message({type:"error",message:"查询失败，请重试或联系管理员"}),this.$router.push({name:"Index"})}a.close()}},watch:{$route(){this.params={pageNum:1,pageSize:5},this.currentPage3=1,this.formData=this.$route.params.res,this.selectResult(this.params)}}},m=b,v=s(1001),f=(0,v.Z)(m,e,n,!1,null,"13aa150a",null),C=f.exports}}]);